```
Университет ИТМО, Курс ¾Алгоритмы и структуры данных¿, 2017 год
```
# Задача A. Хип ли?

Имя входного файла: isheap.in
Имя выходного файла: isheap.out
Структуру данных Heap можно реализовать на основе массива.
Для этого должно выполнятсяосновное свойство Heap’a, которое заключается в следующем.
Для каждого 06 i < nвыполняются следующие условия:

- Если 2 i+ 1< n, тоa[i] 6 a[2i+ 1]
- Если 2 i+ 2< n, тоa[i] 6 a[2i+ 2]

```
Дан массив целых чисел. Определите является ли он Heap’ом.
```
## Форматвходногофайла

Первая строка входного файла содержит целое числоn( 16 n 6105 ). Вторая строка содержит
nцелых чисел по модулю не превосходящих 2 · 109.

## Форматвыходногофайла

```
Выведите ¾YES¿, если массив является Heap’ом и ¾NO¿ в противном случае.
```
## Пример

```
isheap.in isheap.out
5
1 0 1 2 0
```
### NO

### 5

### 1 3 2 5 4

### YES


```
Университет ИТМО, Курс ¾Алгоритмы и структуры данных¿, 2017 год
```
# Задача B. Приоритетная очередь

Имя входного файла: priorityqueue.in
Имя выходного файла: priorityqueue.out
Реализуйте приоритетную очередь. Ваша очередь должна поддерживать следующие операции:
добавить элемент, извлечь минимальный элемент, уменьшить элемент, добавленный во время одной
из операций.
Все операции нумеруются по порядку, начиная с 1.

## Форматвходногофайла

Входной файл содержит описание операций со очередью. В очередь помещаются и извлекаются
только целые числа, не превышающие по модулю 109.

## Форматвыходногофайла

Выведите последовательно результат выполнения всех операций extract-min. Если перед
очередной операцииextract-minочередь пуста, выведите вместо числа звездочку.

## Пример

```
priorityqueue.in priorityqueue.out
push 3
push 4
push 2
extract-min
decrease-key 2 1
extract-min
extract-min
extract-min
```
### 2

### 1

### 3

### *


```
Университет ИТМО, Курс ¾Алгоритмы и структуры данных¿, 2017 год
```
# Задача C. Cортировка

Имя входного файла: sort.in
Имя выходного файла: sort.out
Дан массив целых чисел. Ваша задача  отсортировать его в порядке неубывания.
Для того, чтобы узнать, какую сортировку вам нужно реализовать, возьмите остаток от деления
вашего номера на 3.

- 0  Сортировка слиянием.
- 1  Сортировка кучей.
- 2  Быстрая сортировка.

## Форматвходногофайла

В первой строке входного файла содержится числоn( 1 ≤n≤ 100000 )  количество элементов
в массиве. Во второй строке находятсяnцелых чисел, по модулю не превосходящих 109.

## Форматвыходногофайла

В выходной файл надо вывести этот же массив в порядке неубывания, между любыми двумя
числами должен стоять ровно один пробел.

## Пример

```
sort.in sort.out
10
1 8 2 1 4 7 3 2 3 6
```
### 1 1 2 2 3 3 4 6 7 8


```
Университет ИТМО, Курс ¾Алгоритмы и структуры данных¿, 2017 год
```
# Задача D. Цифровая сортировка

```
Имя входного файла: radixsort.in
Имя выходного файла: radixsort.out
Даноnстрок, выведите их порядок послеkфаз цифровой сортировки.
```
## Форматвходногофайла

В первой строке входного файла содержится числоn количество строк,m их длина иk–
число фаз цифровой сортировки ( 1 ≤ n≤ 1000 , 1 ≤ k≤ m≤ 1000 ). В следующихnстроках
находятся сами строки.

## Форматвыходногофайла

```
Выведите строки в порядке в котором они будут послеkфаз цифровой сортировки.
```
## Пример

```
radixsort.in radixsort.out
3 3 1
bbb
aba
baa
```
```
aba
baa
bbb
```
### 3 3 2

```
bbb
aba
baa
```
```
baa
aba
bbb
```
### 3 3 3

```
bbb
aba
baa
```
```
aba
baa
bbb
```

```
Университет ИТМО, Курс ¾Алгоритмы и структуры данных¿, 2017 год
```
# Задача E. Анти-QuickSort

Имя входного файла: antiqs.in
Имя выходного файла: antiqs.out
Для сортировки последовательности чисел широко используется быстрая сортировка  Quick-
Sort. Далее приведена программа, которая сортирует массив a, используя этот алгоритм.

```
def qsort ( l e f t , right ) :
key = a [ ( l e f t + right ) // 2]
i = l e f t
j = right
while i <= j :
while a [ i ] < key : # f i r s t while
i += 1
while a [ j ] > key : # second while
j −= 1
i f i <= j :
a [ i ] , a [ j ] = a [ j ] , a [ i ]
i += 1
j −= 1
i f l e f t < j :
qsort ( l e f t , j )
i f i < right :
qsort ( i , right )
```
qsort (0 , n − 1)
Хотя QuickSort является самой быстрой сортировкой в среднем, существуют тесты, на которых
она работает очень долго. Оценивать время работы алгоритма будем количеством сравнений
с элементами массива (то есть суммарным количеством сравнений в первом и втором while).
Требуется написать программу, генерирующую тест, на котором быстрая сортировка сделает
наибольшее число таких сравнений.

## Форматвходногофайла

```
В первой строке находится единственное числоn( 1 ≤n≤ 70000 ).
```
## Форматвыходногофайла

Вывести перестановку чисел от 1 доn, на которой быстрая сортировка выполнит максимальное
число сравнений. Если таких перестановок несколько, вывести любую из них.

## Пример

```
antiqs.in antiqs.out
3 1 3 2
```

```
Университет ИТМО, Курс ¾Алгоритмы и структуры данных¿, 2017 год
```
# Задача F. Стильная одежда

Имя входного файла: style.in
Имя выходного файла: style.out
Глеб обожает шоппинг. Как-то раз он загорелся идеей подобрать себе майку и штаны так, чтобы
выглядеть в них максимально стильно. В понимании Глеба стильность одежды тем больше, чем
меньше разница в цвете элементов его одежды.
В наличии имеетсяN ( 1 ≤N ≤ 100 000) маек иM( 1 ≤M ≤100 000) штанов, про каждый
элемент известен его цвет (целое число от 1 до10 000 000). Помогите Глебу выбрать одну майку и
одни штаны так, чтобы разница в их цвете была как можно меньше.

## Форматвходногофайла

Сначала вводится информация о майках: в первой строке целое числоN( 1 ≤N≤100 000) и во
второйNцелых чисел от 1 до10 000 000 цвета имеющихся в наличии маек.Гарантируется, что
номера цветов идут в возрастающем порядке (в частности, цвета никаких двух маек не совпадают).
Далее в том же формате идёт описание штанов: их количество M ( 1 ≤ M ≤ 100 000) и в
следующей строкеMцелых чисел от 1 до10 000 000в возрастающем порядке  цвета штанов.

## Форматвыходногофайла

Выведите пару неотрицательных чисел  цвет майки и цвет штанов, которые следует выбрать
Глебу. Если вариантов выбора несколько, выведите любой из них.

## Примеры

```
style.in style.out
2
3 4
3
1 2 3
```
### 3 3

### 2

### 4 5

### 3

### 1 2 3

### 4 3


```
Университет ИТМО, Курс ¾Алгоритмы и структуры данных¿, 2017 год
```
# Задача G. Стильная одежда 2

Имя входного файла: style.in
Имя выходного файла: style.out
Глеб решил развить успех и купить более сложный комплект: из кепки, майки, штанов и ботинок.
В понимании Глеба стильность комплекта тем больше, чем меньше максимальная разница в цвете
элементов его одежды.
В наличии имеетсяN 1 кепок,N 2 маек,N 3 штанов иN 4 ботинок, про каждый элемент известен
его цвет. Помогите Глебу выбрать комплект.

## Форматвходногофайла

Сначала вводится информация о кепках, потом о майках, потом о штанах и в конце о ботинках:.
Про каждый тип одежды в первой строке целое числоNi( 1 ≤Ni≤100 000) и во второйNiцелых
чисел от 1 до100 000 цвета имеющихся предметов.

## Форматвыходногофайла

Выведите четыре числа  цвета кепки, майки, штанов и ботинок. Если вариантов выбора
несколько, выведите любой из них.

## Примеры

```
style.in style.out
3
1 2 3
2
1 3
2
3 4
2
2 3
```
### 3 3 3 3

### 1

### 5

### 4

### 3 6 7 10

### 4

### 18 3 9 11

### 1

### 20

### 5 7 9 20


```
Университет ИТМО, Курс ¾Алгоритмы и структуры данных¿, 2017 год
```
# Задача H. K-ая порядковая статистика

```
Имя входного файла: kth.in
Имя выходного файла: kth.out
Дан массив изnэлементов. Какое числоk-ое в порядке возрастания в этом массиве.
```
## Форматвходногофайла

В первую строке входного файла содержится два числа n  размер массива и
k.( 1 ≤ k ≤ n ≤ 3 · 107 ). Во второй строке находятся числа A, B, C, a 1 , a 2 по модулю не
превосходящие 109. Вы должны получить элементы массива начиная с третьего по формуле:
ai=A∗ai− 2 +B∗ai− 1 +C. Все вычисления должны производится в 32 битном знаковом типе,
переполнения должны игнорироваться.

## Форматвыходногофайла

```
Выведите значениеk-ое в порядке возрастания число в массивеa.
```
## Пример

```
kth.in kth.out
5 3
2 3 5 1 2
```
### 13

### 5 3

### 200000 300000 5 1 2

### 2

```
Во втором примере элементы массиваaравны: ( 1 , 2 , 800005 ,− 516268571 , 1331571109 ).
```

```
Университет ИТМО, Курс ¾Алгоритмы и структуры данных¿, 2017 год
```
# Задача I. Двоичный поиск

Имя входного файла: binsearch.in
Имя выходного файла: binsearch.out
Дан массив изnэлементов, упорядоченный в порядке неубывания иmзапросов: найти первое
и последнее вхождение числа в массив.

## Форматвходногофайла

В первую строке входного файла содержится одно числоn размер массива.( 1 ≤n≤ 100000 ).
Во второй строке находитсяnчисел в порядке неубывания  элементы массива. В третьей строке
находится числоm количество запросов. В следующей строке находитсяmчисел  запросы.

## Форматвыходногофайла

Для каждого запроса выведите в отдельной строке номер первого и последнего вхождения этого
числа в массив. Если числа в массиве нет выведите два раза -1.

## Пример

```
binsearch.in binsearch.out
5
1 1 2 2 2
3
1 2 3
```
### 1 2

### 3 5

### -1 -


```
Университет ИТМО, Курс ¾Алгоритмы и структуры данных¿, 2017 год
```
# Задача J. Гирлянда

Имя входного файла: garland.in
Имя выходного файла: garland.out
Гирлянда состоит изnлампочек на общем проводе. Один её конец закреплён на заданной высоте
Aмм (h 1 =A). Благодаря силе тяжести гирлянда прогибается: высота каждой неконцевой лампы
на 1 мм меньше, чем средняя высота ближайших соседей (hi = (hi−^1 + 2 hi+1)− 1 для 1 < i < N).
Требуется найти минимальную высоту второго концаB (B = hn) при условии, что ни одна из
лампочек не должна лежать на земле (hi> 0 для 1 ≤i≤N).

## Форматвходногофайла

В первую строке входного файла содержится два числа n и A ( 3 ≤ n ≤ 1000 , nцелое,
10 ≤A≤ 1000 ,Aвещественное).

## Форматвыходногофайла

```
Вывести одно вещественное число B с двумя знаками после запятой.
```
## Пример

```
garland.in garland.out
8 15 9.
692 532.81 446113.
```

```
Университет ИТМО, Курс ¾Алгоритмы и структуры данных¿, 2017 год
```
# Задача K. Поезда

Имя входного файла: trains.in
Имя выходного файла: trains.out
В связи с участившимся числом аварий на железнодорожной ветке Москва–Саратов,
руководство железной дороги решило изменить график движения поездов. Тщательный анализ
состояния железнодорожного полотна показал, что оптимальным является следующий график
движения поездов с учетом остановок на станциях: сначала поезд идет на протяженииT 1 минут
со скоростьюV 1 метров в минуту, затемT 2 минут со скоростьюV 2 метров в минуту, ..., наконец,
TNминут со скоростьюVNметров в минуту. В течение некоторых интервалов поезд может стоять
(скорость равна 0).
По действующей инструкции обеспечения безопасности движения поездов расстояние между
локомотивами двух следующих друг за другом поездов должно быть не менееLметров. Определите
минимально допустимый интервал в минутах между отправлениями поездов, позволяющий им
двигаться по этому графику без опасного сближения.

## Форматвходногофайла

В первых двух строках входного файла содержится два натуральных числа, задающие
минимально допустимое расстояние L и количество участков пути N ( 100 6 L 6 10 000,
16 N 61000 ). Далее следуетNпар целых чиселTiиVi, задающих график движения поездов
( 16 Ti 61000 , 06 Vi 61000 ).

## Форматвыходногофайла

В выходной файл необходимо вывести искомый интервал между отправлениями поездов в
минутах, не менее чем с тремя верными знаками после десятичной точки.

## Пример

```
trains.in trains.out
1000
4
10 0
30 80
15 0
20 100
```
### 27.


